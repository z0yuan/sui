<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="If a transaction digest shows up in this list, when executing such transaction, we will always return `ExecutionError::CertificateDenied` without executing it (but still do gas smashing). Because this list is not gated by protocol version, there are a few important criteria for adding a digest to this list:"><title>get_denied_certificates in sui_types::execution - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-46132b98.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="sui_types" data-themes="" data-resource-suffix="" data-rustdoc-version="1.85.1 (4eb161250 2025-03-15)" data-channel="1.85.1" data-search-js="search-75f5ac3e.js" data-settings-js="settings-0f613d39.js" ><script src="../../static.files/storage-59e33391.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../sui_types/index.html">sui_<wbr>types</a><span class="version">0.1.0</span></h2></div><div class="sidebar-elems"><div id="rustdoc-modnav"><h2><a href="index.html">In sui_<wbr>types::<wbr>execution</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="../index.html">sui_types</a>::<wbr><a href="index.html">execution</a></span><h1>Function <span class="fn">get_denied_certificates</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/sui_types/execution.rs.html#326-329">Source</a> </span></div><pre class="rust item-decl"><code>pub fn get_denied_certificates() -&gt; &amp;'static <a class="struct" href="https://doc.rust-lang.org/1.85.1/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;<a class="struct" href="../digests/struct.TransactionDigest.html" title="struct sui_types::digests::TransactionDigest">TransactionDigest</a>&gt;</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>If a transaction digest shows up in this list, when executing such transaction,
we will always return <code>ExecutionError::CertificateDenied</code> without executing it (but still do
gas smashing). Because this list is not gated by protocol version, there are a few important
criteria for adding a digest to this list:</p>
<ol>
<li>The certificate must be causing all validators to either panic or hang forever deterministically.</li>
<li>If we ever ship a fix to make it no longer panic or hang when executing such transaction, we
must make sure the transaction is already in this list. Otherwise nodes running the newer
version without these transactions in the list will generate forked result.</li>
</ol>
<p>Below is a scenario of when we need to use this list:</p>
<ol>
<li>We detect that a specific transaction is causing all validators to either panic or hang forever deterministically.</li>
<li>We push a CertificateDenyConfig to deny such transaction to all validators asap.</li>
<li>To make sure that all fullnodes are able to sync to the latest version, we need to add the
transaction digest to this list as well asap, and ship this binary to all fullnodes, so that
they can sync past this transaction.</li>
<li>We then can start fixing the issue, and ship the fix to all nodes.</li>
<li>Unfortunately, we canâ€™t remove the transaction digest from this list, because if we do so,
any future node that sync from genesis will fork on this transaction. We may be able to
remove it once we have stable snapshots and the binary has a minimum supported protocol
version past the epoch.</li>
</ol>
</div></details></section></div></main></body></html>